#!/usr/bin/env bash

MISAKURA_SCRIPT=`cat <<'EOF'
  s/\(気持\|きも\)ちいい/ぎも゛ぢい゛い゛ぃ/g
  s/\(大好\|だいす\)き/らいしゅきいぃっ/g
  s/\(ミルク\|みるく\|牛乳\)/ちんぽミルク/g
  s/お\(願\|ねが\)い/お願いぃぃぃっっっﾞ/g
  s/ぁ/ぁぁ゛ぁ゛/g
  s/あ/ぁあああ あぉ/g
  s/お/おﾞぉおォおん/g
  s/ごきげんよう/ごきげんよぉおお！んおっ！んおおーーっ！ /
  s/ごきげんよう/ごきげんみゃぁあ゛あ゛ぁ゛ぁぁあ！！/g
  s/こん\(にち\|ばん\)[はわ]/こん\1みゃぁあ゛あ゛ぁ゛ぁぁあ！！/g
  s/えて/えてへぇええぇﾞ/g
  s/する/するの/g
  s/します/するの/g
  s/精液/せーしっせーし でりゅぅ でちゃいましゅ みるく ちんぽみるく ふたなりみるく/g
  s/射精/でちゃうっ れちゃうよぉおおﾞ/g
  s/\(馬鹿\|バカ\|ばか\)/バカ！バカ！まんこ!!/g
  s/いい/いぃぃっよぉおおﾞ/g
  s/\[好す\]き/ちゅき/g
  s/して/してぇぇぇぇ゛/g
  s/行く/んはっ イっぐぅぅぅふうぅ/g
  s/いく/イっくぅぅふぅん/g
  s/イク/イッちゃううぅん/g
  s/駄目/らめにゃのぉぉぉ゛/g
  s/ダメ/んぉほぉぉォォ　らめぇ/g
  s/だめ/らめぇぇ/g
  s/ちゃん/ちゃぁん/g
  s/\(おい\|美味\)しい/\1ひぃ…れしゅぅ/g
  s/\(た\|る\|ない\)\([。、　 ・…!?！？」\n\r]\)/\1の\2/g
  s/さい\([。、　 ・…!?！？」\n\r]\)/さいなの\1/g
  s/よ\([。、　 ・…!?！？」\n\r]\)/よお゛お゛お゛ぉ\1/g
  s/もう/んもぉ゛お゛お゛ぉぉ/g
  s/\(い\|入\)れて/いれてえぇぇぇえ/g
  s/\(気持\|きも\)ちいい/きも゛ぢい゛～っ/g
  s/\(がんば\|頑張\)る/尻穴ちんぽしごき\1るぅ!!!/g
  s/出る/でちゃうっ れちゃうよぉおおﾞ/g
  s/でる/でっ…でるぅでるうぅうぅ/g
  s/です/れしゅぅぅぅ/g
  s/ます/ましゅぅぅぅ/g
  s/はい/はひぃ/g
  s/スゴイ/スゴぉッ!!/g
  s/\(すご\|凄\)い/しゅごいのょぉぉぅ/g
  s/だ/ら/g
  s/さ/しゃ/g
  s/な/にゃ/g
  s/つ/ちゅ/g
  s/ちゃ/ひゃ/g
  s/じゃ/に゛ゃ/g
  s/ほ/ほお゛お゛っ/g
  s/で/れ/g
  s/す/しゅ/g
  s/ざ/じゃ/g
  s/い/いぃ/g
  s/の/のぉおお/g
EOF`

function misakura {
  local misakurized=`echo -e "$1\n" | sed -e :loop -e 'N; $!b loop' -e "$MISAKURA_SCRIPT"`
  echo -e "$misakurized"
}

function help {
  cat <<EOF
Usage:
  misakura [-h|--help] STRING

Examples:
  misakura 本日はお招きいただきありがとうございます
    本日はおﾞぉおォおん招きいぃたらきぁあああ あぉりがとうごじゃいぃましゅぅぅぅ

  echo たまには運動するのも気持ちいいですね | misakura
    たまには運動しゅるのぉおおのぉおおもぎも゛ぢいぃ゛いぃ゛ぃれしゅぅぅぅね
EOF
}

if { [ -z "$1" ] && [ -t 0 ] ; } || [ "$1" == '-h' ] || [ "$1" == '--help' ]; then
  help
  exit 0
fi

misakura "${@:-`cat`}"
